# ao 消息传递的工作原理

在我们深入了解 ao 之前，我想与您分享一些有关 UNIX 的信息。 Unix 是一个功能强大的操作系统，但在其设计中它专注于两种主要 `“类型”`。 文件和程序。 文件是数据，程序是逻辑，当你将两者结合起来时，你就会得到信息。

`Input.file | TransformProgram | Output.file`

您可能在命令行上做了类似的事情，但不知道自己在做什么。 能够将文件连接到程序并返回文件，然后将其传递给其他程序，从而创建一个由简单应用程序组成的复杂系统。 这是一个非常牛逼的想法。

现在，我们来讨论 `ao` 即超并行计算机，并将文件更改为 `ao` 概念下的消息，将程序更改为 `ao` 概念下的进程。 `ao` 计算机接收消息并将它们发送到进程，其中这些进程可以输出可发送到其他进程的消息。 结果是一个建立在简单模块化逻辑容器之上的复杂系统。

`MessageA | Process | MessageB`

![ao-消息](https://g8way.io/eAoqMqhwQ5vnpH_NJ6H2PiGgrcGDprtDIUH9Re2xcic)

以下是流程图中概述的过程的描述：

1. 一条消息从 ao Connect 被发出。 该消息使用 POST 请求发送到 `mu` 服务。 请求正文包含遵循同一协议的数据，标记为 `ao`，类型为 `Message`。

2. `mu` 服务处理 POST 请求并将消息转发到 `su` 服务。 这也是使用具有相同数据协议和消息类型的 POST 请求来完成的。

3. `su` 服务似乎与存储消息的称为 Arweave 的存储或数据层进行交互。

4. 向 `cu` 服务发出 GET 请求，以根据消息 ID 检索结果。 `cu` 是一种进程上的对消息求值并可以根据单个消息标识符返回结果的服务。

5. 向 `su` 服务发出 GET 请求以检索消息。 此请求查找来自某个进程 ID 的开始结束时间范围是 `from*` 到 `to*` 的消息。

6. 最后一步是推送所有发件箱消息。 它涉及检查结果对象中的消息和新进程生成请求。 根据此检查的结果，可以对每个相关消息或新进程生成请求重复步骤 2、3 和 4。
